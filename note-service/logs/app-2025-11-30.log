2025-11-30 21:14:40 INFO  c.m.n.NoteServiceApplicationTests - Starting NoteServiceApplicationTests using Java 23.0.1 with PID 9084 (started by ahhou in C:\Users\ahhou\Desktop\dev-java\Formation\P-9-Microservice\MediLaboSolutions\note-service)
2025-11-30 21:14:40 DEBUG c.m.n.NoteServiceApplicationTests - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-30 21:14:40 INFO  c.m.n.NoteServiceApplicationTests - No active profile set, falling back to 1 default profile: "default"
2025-11-30 21:14:41 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 9.0.1.Final
2025-11-30 21:14:41 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-11-30 21:14:41 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 151 ms. Found 1 MongoDB repository interface.
2025-11-30 21:14:42 INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=9c757eb8-ed72-3930-8b2c-486304b8d6f2
2025-11-30 21:14:42 INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|spring-boot|sync", "version": "5.6.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/23.0.1+11-39"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, transportSettings=null, commandListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsCommandListener@6ffbf0ac], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@ad5cffa, com.mongodb.Jep395RecordCodecProvider@237aa0c7, com.mongodb.KotlinCodecProvider@1b8ee69d, EnumCodecProvider{}]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsConnectionPoolListener@2b400bd0], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverMonitoringMode=AUTO, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null, timeoutMS=null}
2025-11-30 21:14:42 INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=27, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=34500300, minRoundTripTimeNanos=0}
2025-11-30 21:14:44 INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration - Eureka HTTP Client uses RestClient.
2025-11-30 21:14:44 WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-11-30 21:14:44 INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-11-30 21:14:44 INFO  o.s.c.n.eureka.InstanceInfoFactory - Setting initial instance status as: STARTING
2025-11-30 21:14:44 INFO  c.netflix.discovery.DiscoveryClient - Initializing Eureka in region us-east-1
2025-11-30 21:14:44 INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-30 21:14:44 INFO  c.netflix.discovery.DiscoveryClient - Disable delta property : false
2025-11-30 21:14:44 INFO  c.netflix.discovery.DiscoveryClient - Single vip registry refresh property : null
2025-11-30 21:14:44 INFO  c.netflix.discovery.DiscoveryClient - Force full registry fetch : false
2025-11-30 21:14:44 INFO  c.netflix.discovery.DiscoveryClient - Application is null : false
2025-11-30 21:14:44 INFO  c.netflix.discovery.DiscoveryClient - Registered Applications size is zero : true
2025-11-30 21:14:44 INFO  c.netflix.discovery.DiscoveryClient - Application version is -1: true
2025-11-30 21:14:44 INFO  c.netflix.discovery.DiscoveryClient - Getting all instance registry info from the eureka server
2025-11-30 21:14:44 INFO  c.netflix.discovery.DiscoveryClient - The response status is 200
2025-11-30 21:14:44 INFO  c.netflix.discovery.DiscoveryClient - Starting heartbeat executor: renew interval is: 30
2025-11-30 21:14:44 INFO  c.n.discovery.InstanceInfoReplicator - InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-11-30 21:14:44 INFO  c.netflix.discovery.DiscoveryClient - Discovery Client initialized at timestamp 1764533684901 with initial instances count: 5
2025-11-30 21:14:44 INFO  o.s.c.n.e.s.EurekaServiceRegistry - Registering application API-NOTE with eureka with status UP
2025-11-30 21:14:44 INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1764533684910, current=UP, previous=STARTING]
2025-11-30 21:14:44 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082: registering service...
2025-11-30 21:14:44 INFO  c.m.n.NoteServiceApplicationTests - Started NoteServiceApplicationTests in 5.027 seconds (process running for 6.744)
2025-11-30 21:14:44 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082 - registration status: 204
2025-11-30 21:14:45 WARN  c.m.noteservice.config.DataLoader -  Suppression de toutes les notes !
2025-11-30 21:14:45 INFO  c.m.noteservice.config.DataLoader - Données initiales MongoDB importées !
2025-11-30 21:14:45 INFO  o.s.c.n.e.s.EurekaServiceRegistry - Unregistering application API-NOTE with eureka with status DOWN
2025-11-30 21:14:45 INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1764533685905, current=DOWN, previous=UP]
2025-11-30 21:14:45 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082: registering service...
2025-11-30 21:14:45 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082 - registration status: 204
2025-11-30 21:14:46 INFO  c.m.n.service.NoteServiceImpl - Note supprimée avec succès (id=999)
2025-11-30 21:14:46 INFO  o.s.c.n.e.s.EurekaServiceRegistry - Unregistering application API-NOTE with eureka with status DOWN
2025-11-30 21:14:46 INFO  c.netflix.discovery.DiscoveryClient - Shutting down DiscoveryClient ...
2025-11-30 21:14:49 INFO  c.netflix.discovery.DiscoveryClient - Unregistering ...
2025-11-30 21:14:49 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082 - deregister  status: 200
2025-11-30 21:14:49 INFO  c.netflix.discovery.DiscoveryClient - Completed shut down of DiscoveryClient
2025-11-30 21:15:29 INFO  c.m.n.NoteServiceApplicationTests - Starting NoteServiceApplicationTests using Java 23.0.1 with PID 21280 (started by ahhou in C:\Users\ahhou\Desktop\dev-java\Formation\P-9-Microservice\MediLaboSolutions\note-service)
2025-11-30 21:15:29 DEBUG c.m.n.NoteServiceApplicationTests - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-30 21:15:29 INFO  c.m.n.NoteServiceApplicationTests - No active profile set, falling back to 1 default profile: "default"
2025-11-30 21:15:29 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 9.0.1.Final
2025-11-30 21:15:30 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-11-30 21:15:30 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 153 ms. Found 1 MongoDB repository interface.
2025-11-30 21:15:30 INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=9c757eb8-ed72-3930-8b2c-486304b8d6f2
2025-11-30 21:15:31 INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|spring-boot|sync", "version": "5.6.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/23.0.1+11-39"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, transportSettings=null, commandListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsCommandListener@6ffbf0ac], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@ad5cffa, com.mongodb.Jep395RecordCodecProvider@237aa0c7, com.mongodb.KotlinCodecProvider@1b8ee69d, EnumCodecProvider{}]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsConnectionPoolListener@2b400bd0], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverMonitoringMode=AUTO, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null, timeoutMS=null}
2025-11-30 21:15:31 INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=27, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=23479200, minRoundTripTimeNanos=0}
2025-11-30 21:15:32 INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration - Eureka HTTP Client uses RestClient.
2025-11-30 21:15:32 WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-11-30 21:15:32 INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-11-30 21:15:32 INFO  o.s.c.n.eureka.InstanceInfoFactory - Setting initial instance status as: STARTING
2025-11-30 21:15:32 INFO  c.netflix.discovery.DiscoveryClient - Initializing Eureka in region us-east-1
2025-11-30 21:15:32 INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-30 21:15:32 INFO  c.netflix.discovery.DiscoveryClient - Disable delta property : false
2025-11-30 21:15:32 INFO  c.netflix.discovery.DiscoveryClient - Single vip registry refresh property : null
2025-11-30 21:15:32 INFO  c.netflix.discovery.DiscoveryClient - Force full registry fetch : false
2025-11-30 21:15:32 INFO  c.netflix.discovery.DiscoveryClient - Application is null : false
2025-11-30 21:15:32 INFO  c.netflix.discovery.DiscoveryClient - Registered Applications size is zero : true
2025-11-30 21:15:32 INFO  c.netflix.discovery.DiscoveryClient - Application version is -1: true
2025-11-30 21:15:32 INFO  c.netflix.discovery.DiscoveryClient - Getting all instance registry info from the eureka server
2025-11-30 21:15:33 INFO  c.netflix.discovery.DiscoveryClient - The response status is 200
2025-11-30 21:15:33 INFO  c.netflix.discovery.DiscoveryClient - Starting heartbeat executor: renew interval is: 30
2025-11-30 21:15:33 INFO  c.n.discovery.InstanceInfoReplicator - InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-11-30 21:15:33 INFO  c.netflix.discovery.DiscoveryClient - Discovery Client initialized at timestamp 1764533733369 with initial instances count: 5
2025-11-30 21:15:33 INFO  o.s.c.n.e.s.EurekaServiceRegistry - Registering application API-NOTE with eureka with status UP
2025-11-30 21:15:33 INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1764533733377, current=UP, previous=STARTING]
2025-11-30 21:15:33 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082: registering service...
2025-11-30 21:15:33 INFO  c.m.n.NoteServiceApplicationTests - Started NoteServiceApplicationTests in 4.859 seconds (process running for 6.593)
2025-11-30 21:15:33 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082 - registration status: 204
2025-11-30 21:15:33 WARN  c.m.noteservice.config.DataLoader -  Suppression de toutes les notes !
2025-11-30 21:15:33 INFO  c.m.noteservice.config.DataLoader - Données initiales MongoDB importées !
2025-11-30 21:15:34 INFO  o.s.c.n.e.s.EurekaServiceRegistry - Unregistering application API-NOTE with eureka with status DOWN
2025-11-30 21:15:34 INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1764533734304, current=DOWN, previous=UP]
2025-11-30 21:15:34 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082: registering service...
2025-11-30 21:15:34 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082 - registration status: 204
2025-11-30 21:15:34 INFO  c.m.n.service.NoteServiceImpl - Note supprimée avec succès (id=999)
2025-11-30 21:15:34 INFO  o.s.c.n.e.s.EurekaServiceRegistry - Unregistering application API-NOTE with eureka with status DOWN
2025-11-30 21:15:34 INFO  c.netflix.discovery.DiscoveryClient - Shutting down DiscoveryClient ...
2025-11-30 21:15:37 INFO  c.netflix.discovery.DiscoveryClient - Unregistering ...
2025-11-30 21:15:37 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082 - deregister  status: 200
2025-11-30 21:15:37 INFO  c.netflix.discovery.DiscoveryClient - Completed shut down of DiscoveryClient
2025-11-30 21:17:06 INFO  c.m.n.NoteServiceApplicationTests - Starting NoteServiceApplicationTests using Java 23.0.1 with PID 24064 (started by ahhou in C:\Users\ahhou\Desktop\dev-java\Formation\P-9-Microservice\MediLaboSolutions\note-service)
2025-11-30 21:17:06 DEBUG c.m.n.NoteServiceApplicationTests - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-30 21:17:06 INFO  c.m.n.NoteServiceApplicationTests - No active profile set, falling back to 1 default profile: "default"
2025-11-30 21:17:06 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 9.0.1.Final
2025-11-30 21:17:07 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-11-30 21:17:07 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 154 ms. Found 1 MongoDB repository interface.
2025-11-30 21:17:08 INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=9c757eb8-ed72-3930-8b2c-486304b8d6f2
2025-11-30 21:17:08 INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|spring-boot|sync", "version": "5.6.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/23.0.1+11-39"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, transportSettings=null, commandListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsCommandListener@2f166d61], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@5896b9f5, com.mongodb.Jep395RecordCodecProvider@4ad8d36f, com.mongodb.KotlinCodecProvider@74a5bef0, EnumCodecProvider{}]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsConnectionPoolListener@68c4a860], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverMonitoringMode=AUTO, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null, timeoutMS=null}
2025-11-30 21:17:08 INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=27, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=29139900, minRoundTripTimeNanos=0}
2025-11-30 21:17:09 INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration - Eureka HTTP Client uses RestClient.
2025-11-30 21:17:09 WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-11-30 21:17:09 INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-11-30 21:17:10 INFO  o.s.c.n.eureka.InstanceInfoFactory - Setting initial instance status as: STARTING
2025-11-30 21:17:10 INFO  c.netflix.discovery.DiscoveryClient - Initializing Eureka in region us-east-1
2025-11-30 21:17:10 INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-30 21:17:10 INFO  c.netflix.discovery.DiscoveryClient - Disable delta property : false
2025-11-30 21:17:10 INFO  c.netflix.discovery.DiscoveryClient - Single vip registry refresh property : null
2025-11-30 21:17:10 INFO  c.netflix.discovery.DiscoveryClient - Force full registry fetch : false
2025-11-30 21:17:10 INFO  c.netflix.discovery.DiscoveryClient - Application is null : false
2025-11-30 21:17:10 INFO  c.netflix.discovery.DiscoveryClient - Registered Applications size is zero : true
2025-11-30 21:17:10 INFO  c.netflix.discovery.DiscoveryClient - Application version is -1: true
2025-11-30 21:17:10 INFO  c.netflix.discovery.DiscoveryClient - Getting all instance registry info from the eureka server
2025-11-30 21:17:10 INFO  c.netflix.discovery.DiscoveryClient - The response status is 200
2025-11-30 21:17:10 INFO  c.netflix.discovery.DiscoveryClient - Starting heartbeat executor: renew interval is: 30
2025-11-30 21:17:10 INFO  c.n.discovery.InstanceInfoReplicator - InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-11-30 21:17:10 INFO  c.netflix.discovery.DiscoveryClient - Discovery Client initialized at timestamp 1764533830466 with initial instances count: 5
2025-11-30 21:17:10 INFO  o.s.c.n.e.s.EurekaServiceRegistry - Registering application API-NOTE with eureka with status UP
2025-11-30 21:17:10 INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1764533830472, current=UP, previous=STARTING]
2025-11-30 21:17:10 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082: registering service...
2025-11-30 21:17:10 INFO  c.m.n.NoteServiceApplicationTests - Started NoteServiceApplicationTests in 4.885 seconds (process running for 6.651)
2025-11-30 21:17:10 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082 - registration status: 204
2025-11-30 21:17:10 WARN  c.m.noteservice.config.DataLoader -  Suppression de toutes les notes !
2025-11-30 21:17:10 INFO  c.m.noteservice.config.DataLoader - Données initiales MongoDB importées !
2025-11-30 21:17:11 INFO  o.s.c.n.e.s.EurekaServiceRegistry - Unregistering application API-NOTE with eureka with status DOWN
2025-11-30 21:17:11 INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1764533831328, current=DOWN, previous=UP]
2025-11-30 21:17:11 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082: registering service...
2025-11-30 21:17:11 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082 - registration status: 204
2025-11-30 21:17:11 INFO  c.m.n.service.NoteServiceImpl - Note supprimée avec succès (id=999)
2025-11-30 21:17:11 INFO  o.s.c.n.e.s.EurekaServiceRegistry - Unregistering application API-NOTE with eureka with status DOWN
2025-11-30 21:17:11 INFO  c.netflix.discovery.DiscoveryClient - Shutting down DiscoveryClient ...
2025-11-30 21:17:14 INFO  c.netflix.discovery.DiscoveryClient - Unregistering ...
2025-11-30 21:17:14 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082 - deregister  status: 200
2025-11-30 21:17:14 INFO  c.netflix.discovery.DiscoveryClient - Completed shut down of DiscoveryClient
2025-11-30 21:18:45 INFO  c.m.n.NoteServiceApplicationTests - Starting NoteServiceApplicationTests using Java 23.0.1 with PID 2336 (started by ahhou in C:\Users\ahhou\Desktop\dev-java\Formation\P-9-Microservice\MediLaboSolutions\note-service)
2025-11-30 21:18:45 DEBUG c.m.n.NoteServiceApplicationTests - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-30 21:18:45 INFO  c.m.n.NoteServiceApplicationTests - No active profile set, falling back to 1 default profile: "default"
2025-11-30 21:18:45 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 9.0.1.Final
2025-11-30 21:18:46 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-11-30 21:18:47 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 288 ms. Found 1 MongoDB repository interface.
2025-11-30 21:18:47 INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=9c757eb8-ed72-3930-8b2c-486304b8d6f2
2025-11-30 21:18:48 INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|spring-boot|sync", "version": "5.6.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/23.0.1+11-39"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, transportSettings=null, commandListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsCommandListener@3593a38d], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@70027aec, com.mongodb.Jep395RecordCodecProvider@725d3fcc, com.mongodb.KotlinCodecProvider@2f087301, EnumCodecProvider{}]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsConnectionPoolListener@7af22a6], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverMonitoringMode=AUTO, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null, timeoutMS=null}
2025-11-30 21:18:48 INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=27, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=51356700, minRoundTripTimeNanos=0}
2025-11-30 21:18:50 INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration - Eureka HTTP Client uses RestClient.
2025-11-30 21:18:50 WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-11-30 21:18:50 INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-11-30 21:18:50 INFO  o.s.c.n.eureka.InstanceInfoFactory - Setting initial instance status as: STARTING
2025-11-30 21:18:50 INFO  c.netflix.discovery.DiscoveryClient - Initializing Eureka in region us-east-1
2025-11-30 21:18:50 INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-30 21:18:50 INFO  c.netflix.discovery.DiscoveryClient - Disable delta property : false
2025-11-30 21:18:50 INFO  c.netflix.discovery.DiscoveryClient - Single vip registry refresh property : null
2025-11-30 21:18:50 INFO  c.netflix.discovery.DiscoveryClient - Force full registry fetch : false
2025-11-30 21:18:50 INFO  c.netflix.discovery.DiscoveryClient - Application is null : false
2025-11-30 21:18:50 INFO  c.netflix.discovery.DiscoveryClient - Registered Applications size is zero : true
2025-11-30 21:18:50 INFO  c.netflix.discovery.DiscoveryClient - Application version is -1: true
2025-11-30 21:18:50 INFO  c.netflix.discovery.DiscoveryClient - Getting all instance registry info from the eureka server
2025-11-30 21:18:50 INFO  c.netflix.discovery.DiscoveryClient - The response status is 200
2025-11-30 21:18:50 INFO  c.netflix.discovery.DiscoveryClient - Starting heartbeat executor: renew interval is: 30
2025-11-30 21:18:50 INFO  c.n.discovery.InstanceInfoReplicator - InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-11-30 21:18:50 INFO  c.netflix.discovery.DiscoveryClient - Discovery Client initialized at timestamp 1764533930978 with initial instances count: 5
2025-11-30 21:18:50 INFO  o.s.c.n.e.s.EurekaServiceRegistry - Registering application API-NOTE with eureka with status UP
2025-11-30 21:18:50 INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1764533930985, current=UP, previous=STARTING]
2025-11-30 21:18:50 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082: registering service...
2025-11-30 21:18:50 INFO  c.m.n.NoteServiceApplicationTests - Started NoteServiceApplicationTests in 6.667 seconds (process running for 9.825)
2025-11-30 21:18:51 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082 - registration status: 204
2025-11-30 21:18:51 WARN  c.m.noteservice.config.DataLoader -  Suppression de toutes les notes !
2025-11-30 21:18:51 INFO  c.m.noteservice.config.DataLoader - Données initiales MongoDB importées !
2025-11-30 21:18:52 INFO  o.s.c.n.e.s.EurekaServiceRegistry - Unregistering application API-NOTE with eureka with status DOWN
2025-11-30 21:18:52 INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1764533932313, current=DOWN, previous=UP]
2025-11-30 21:18:52 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082: registering service...
2025-11-30 21:18:52 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082 - registration status: 204
2025-11-30 21:18:52 INFO  c.m.n.service.NoteServiceImpl - Note supprimée avec succès (id=999)
2025-11-30 21:18:52 INFO  o.s.c.n.e.s.EurekaServiceRegistry - Unregistering application API-NOTE with eureka with status DOWN
2025-11-30 21:18:52 INFO  c.netflix.discovery.DiscoveryClient - Shutting down DiscoveryClient ...
2025-11-30 21:18:55 INFO  c.netflix.discovery.DiscoveryClient - Unregistering ...
2025-11-30 21:18:55 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082 - deregister  status: 200
2025-11-30 21:18:55 INFO  c.netflix.discovery.DiscoveryClient - Completed shut down of DiscoveryClient
2025-11-30 21:28:45 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.3.Final
2025-11-30 21:28:45 INFO  c.m.n.NoteServiceApplicationTests - Starting NoteServiceApplicationTests using Java 23.0.1 with PID 476 (started by ahhou in C:\Users\ahhou\Desktop\dev-java\Formation\P-9-Microservice\MediLaboSolutions\note-service)
2025-11-30 21:28:45 DEBUG c.m.n.NoteServiceApplicationTests - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-30 21:28:45 INFO  c.m.n.NoteServiceApplicationTests - No active profile set, falling back to 1 default profile: "default"
2025-11-30 21:28:47 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-11-30 21:28:47 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 202 ms. Found 1 MongoDB repository interface.
2025-11-30 21:28:47 INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=41dab432-2529-3572-bc1e-4fbaa5d9e422
2025-11-30 21:28:48 INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-boot", "version": "5.5.2"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/23.0.1+11-39"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, transportSettings=null, commandListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsCommandListener@5f19dea8], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@5eab0592, com.mongodb.Jep395RecordCodecProvider@ed8a7ab, com.mongodb.KotlinCodecProvider@5afefa87]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsConnectionPoolListener@4b0393ee], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverMonitoringMode=AUTO, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null, timeoutMS=null}
2025-11-30 21:28:48 INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=27, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=41009700, minRoundTripTimeNanos=0}
2025-11-30 21:28:50 INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration - Eureka HTTP Client uses RestTemplate.
2025-11-30 21:28:50 WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-11-30 21:28:50 INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-11-30 21:28:50 INFO  o.s.c.n.eureka.InstanceInfoFactory - Setting initial instance status as: STARTING
2025-11-30 21:28:50 INFO  c.netflix.discovery.DiscoveryClient - Initializing Eureka in region us-east-1
2025-11-30 21:28:50 INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-30 21:28:50 INFO  c.netflix.discovery.DiscoveryClient - Disable delta property : false
2025-11-30 21:28:50 INFO  c.netflix.discovery.DiscoveryClient - Single vip registry refresh property : null
2025-11-30 21:28:50 INFO  c.netflix.discovery.DiscoveryClient - Force full registry fetch : false
2025-11-30 21:28:50 INFO  c.netflix.discovery.DiscoveryClient - Application is null : false
2025-11-30 21:28:50 INFO  c.netflix.discovery.DiscoveryClient - Registered Applications size is zero : true
2025-11-30 21:28:50 INFO  c.netflix.discovery.DiscoveryClient - Application version is -1: true
2025-11-30 21:28:50 INFO  c.netflix.discovery.DiscoveryClient - Getting all instance registry info from the eureka server
2025-11-30 21:28:50 INFO  c.netflix.discovery.DiscoveryClient - The response status is 200
2025-11-30 21:28:50 INFO  c.netflix.discovery.DiscoveryClient - Starting heartbeat executor: renew interval is: 30
2025-11-30 21:28:50 INFO  c.n.discovery.InstanceInfoReplicator - InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-11-30 21:28:50 INFO  c.netflix.discovery.DiscoveryClient - Discovery Client initialized at timestamp 1764534530850 with initial instances count: 5
2025-11-30 21:28:50 INFO  o.s.c.n.e.s.EurekaServiceRegistry - Registering application API-NOTE with eureka with status UP
2025-11-30 21:28:50 INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1764534530856, current=UP, previous=STARTING]
2025-11-30 21:28:50 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082: registering service...
2025-11-30 21:28:50 INFO  c.m.n.NoteServiceApplicationTests - Started NoteServiceApplicationTests in 5.912 seconds (process running for 9.215)
2025-11-30 21:28:50 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082 - registration status: 204
2025-11-30 21:28:50 WARN  c.m.noteservice.config.DataLoader -  Suppression de toutes les notes !
2025-11-30 21:28:51 INFO  c.m.noteservice.config.DataLoader - Données initiales MongoDB importées !
2025-11-30 21:28:52 INFO  c.m.n.service.NoteServiceImpl - Note supprimée avec succès (id=999)
2025-11-30 21:28:52 INFO  o.s.c.n.e.s.EurekaServiceRegistry - Unregistering application API-NOTE with eureka with status DOWN
2025-11-30 21:28:52 INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1764534532467, current=DOWN, previous=UP]
2025-11-30 21:28:52 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082: registering service...
2025-11-30 21:28:52 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082 - registration status: 204
2025-11-30 21:28:52 INFO  c.netflix.discovery.DiscoveryClient - Shutting down DiscoveryClient ...
2025-11-30 21:28:55 INFO  c.netflix.discovery.DiscoveryClient - Unregistering ...
2025-11-30 21:28:55 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082 - deregister  status: 200
2025-11-30 21:28:55 INFO  c.netflix.discovery.DiscoveryClient - Completed shut down of DiscoveryClient
2025-11-30 21:32:29 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.3.Final
2025-11-30 21:32:29 INFO  c.m.n.NoteControllerIntegrationTest - Starting NoteControllerIntegrationTest using Java 22.0.1 with PID 15684 (started by ahhou in C:\Users\ahhou\Desktop\dev-java\Formation\P-9-Microservice\MediLaboSolutions\note-service)
2025-11-30 21:32:29 DEBUG c.m.n.NoteControllerIntegrationTest - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-30 21:32:29 INFO  c.m.n.NoteControllerIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2025-11-30 21:32:31 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-11-30 21:32:31 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 161 ms. Found 1 MongoDB repository interface.
2025-11-30 21:32:31 INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=4300b419-5452-3776-be15-97c8e97c0bab
2025-11-30 21:32:32 INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-boot", "version": "5.5.2"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/22.0.1+8-16"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, transportSettings=null, commandListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsCommandListener@95cecc5], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@48b3b1b8, com.mongodb.Jep395RecordCodecProvider@b86cb18, com.mongodb.KotlinCodecProvider@29c244e]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsConnectionPoolListener@6cc8da1c], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverMonitoringMode=AUTO, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null, timeoutMS=null}
2025-11-30 21:32:32 INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=27, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=28213800, minRoundTripTimeNanos=0}
2025-11-30 21:32:33 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-30 21:32:33 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-30 21:32:33 INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-11-30 21:32:33 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 20 ms
2025-11-30 21:32:33 INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration - Eureka HTTP Client uses RestTemplate.
2025-11-30 21:32:33 WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-11-30 21:32:33 INFO  o.s.c.n.eureka.InstanceInfoFactory - Setting initial instance status as: STARTING
2025-11-30 21:32:33 INFO  c.netflix.discovery.DiscoveryClient - Initializing Eureka in region us-east-1
2025-11-30 21:32:33 INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-30 21:32:33 INFO  c.netflix.discovery.DiscoveryClient - Disable delta property : false
2025-11-30 21:32:33 INFO  c.netflix.discovery.DiscoveryClient - Single vip registry refresh property : null
2025-11-30 21:32:33 INFO  c.netflix.discovery.DiscoveryClient - Force full registry fetch : false
2025-11-30 21:32:33 INFO  c.netflix.discovery.DiscoveryClient - Application is null : false
2025-11-30 21:32:33 INFO  c.netflix.discovery.DiscoveryClient - Registered Applications size is zero : true
2025-11-30 21:32:33 INFO  c.netflix.discovery.DiscoveryClient - Application version is -1: true
2025-11-30 21:32:33 INFO  c.netflix.discovery.DiscoveryClient - Getting all instance registry info from the eureka server
2025-11-30 21:32:33 INFO  c.netflix.discovery.DiscoveryClient - The response status is 200
2025-11-30 21:32:33 INFO  c.netflix.discovery.DiscoveryClient - Starting heartbeat executor: renew interval is: 30
2025-11-30 21:32:33 INFO  c.n.discovery.InstanceInfoReplicator - InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-11-30 21:32:33 INFO  c.netflix.discovery.DiscoveryClient - Discovery Client initialized at timestamp 1764534753998 with initial instances count: 5
2025-11-30 21:32:34 INFO  o.s.c.n.e.s.EurekaServiceRegistry - Registering application API-NOTE with eureka with status UP
2025-11-30 21:32:34 INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1764534754002, current=UP, previous=STARTING]
2025-11-30 21:32:34 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082: registering service...
2025-11-30 21:32:34 INFO  c.m.n.NoteControllerIntegrationTest - Started NoteControllerIntegrationTest in 4.832 seconds (process running for 6.518)
2025-11-30 21:32:34 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082 - registration status: 204
2025-11-30 21:32:34 WARN  c.m.noteservice.config.DataLoader -  Suppression de toutes les notes !
2025-11-30 21:32:34 INFO  c.m.noteservice.config.DataLoader - Données initiales MongoDB importées !
2025-11-30 21:32:34 INFO  c.m.n.controller.NoteController - Aucune note trouvée pour le patient 999
2025-11-30 21:32:35 INFO  c.m.n.controller.NoteController - Note modifiée avec succès pour le patient 1
2025-11-30 21:32:35 INFO  c.m.n.controller.NoteController - Note ajoutée avec succès pour le patient 2
2025-11-30 21:32:35 INFO  c.m.n.service.NoteServiceImpl - Note supprimée avec succès (id=692ca9e3253810af4291f244)
2025-11-30 21:32:35 INFO  c.m.n.controller.NoteController - Note avec id 692ca9e3253810af4291f244 supprimée avec succès
2025-11-30 21:32:35 INFO  o.s.c.n.e.s.EurekaServiceRegistry - Unregistering application API-NOTE with eureka with status DOWN
2025-11-30 21:32:35 INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1764534755183, current=DOWN, previous=UP]
2025-11-30 21:32:35 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082: registering service...
2025-11-30 21:32:35 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082 - registration status: 204
2025-11-30 21:32:35 INFO  c.netflix.discovery.DiscoveryClient - Shutting down DiscoveryClient ...
2025-11-30 21:32:38 INFO  c.netflix.discovery.DiscoveryClient - Unregistering ...
2025-11-30 21:32:38 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082 - deregister  status: 200
2025-11-30 21:32:38 INFO  c.netflix.discovery.DiscoveryClient - Completed shut down of DiscoveryClient
2025-11-30 21:33:25 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.3.Final
2025-11-30 21:33:25 INFO  c.m.n.NoteControllerIntegrationTest - Starting NoteControllerIntegrationTest using Java 22.0.1 with PID 12500 (started by ahhou in C:\Users\ahhou\Desktop\dev-java\Formation\P-9-Microservice\MediLaboSolutions\note-service)
2025-11-30 21:33:25 DEBUG c.m.n.NoteControllerIntegrationTest - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-30 21:33:25 INFO  c.m.n.NoteControllerIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2025-11-30 21:33:26 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-11-30 21:33:27 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 202 ms. Found 1 MongoDB repository interface.
2025-11-30 21:33:27 INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=4300b419-5452-3776-be15-97c8e97c0bab
2025-11-30 21:33:28 INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-boot", "version": "5.5.2"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/22.0.1+8-16"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, transportSettings=null, commandListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsCommandListener@5ee6fdc4], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@1bbb42b4, com.mongodb.Jep395RecordCodecProvider@3f9f8d23, com.mongodb.KotlinCodecProvider@603d25db]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsConnectionPoolListener@95cecc5], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverMonitoringMode=AUTO, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null, timeoutMS=null}
2025-11-30 21:33:28 INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=27, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=32084100, minRoundTripTimeNanos=0}
2025-11-30 21:33:29 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-30 21:33:29 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-30 21:33:29 INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-11-30 21:33:29 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 35 ms
2025-11-30 21:33:29 INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration - Eureka HTTP Client uses RestTemplate.
2025-11-30 21:33:29 WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-11-30 21:33:29 INFO  o.s.c.n.eureka.InstanceInfoFactory - Setting initial instance status as: STARTING
2025-11-30 21:33:29 INFO  c.netflix.discovery.DiscoveryClient - Initializing Eureka in region us-east-1
2025-11-30 21:33:29 INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-30 21:33:29 INFO  c.netflix.discovery.DiscoveryClient - Disable delta property : false
2025-11-30 21:33:29 INFO  c.netflix.discovery.DiscoveryClient - Single vip registry refresh property : null
2025-11-30 21:33:29 INFO  c.netflix.discovery.DiscoveryClient - Force full registry fetch : false
2025-11-30 21:33:29 INFO  c.netflix.discovery.DiscoveryClient - Application is null : false
2025-11-30 21:33:29 INFO  c.netflix.discovery.DiscoveryClient - Registered Applications size is zero : true
2025-11-30 21:33:29 INFO  c.netflix.discovery.DiscoveryClient - Application version is -1: true
2025-11-30 21:33:29 INFO  c.netflix.discovery.DiscoveryClient - Getting all instance registry info from the eureka server
2025-11-30 21:33:30 INFO  c.netflix.discovery.DiscoveryClient - The response status is 200
2025-11-30 21:33:30 INFO  c.netflix.discovery.DiscoveryClient - Starting heartbeat executor: renew interval is: 30
2025-11-30 21:33:30 INFO  c.n.discovery.InstanceInfoReplicator - InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-11-30 21:33:30 INFO  c.netflix.discovery.DiscoveryClient - Discovery Client initialized at timestamp 1764534810245 with initial instances count: 4
2025-11-30 21:33:30 INFO  o.s.c.n.e.s.EurekaServiceRegistry - Registering application API-NOTE with eureka with status UP
2025-11-30 21:33:30 INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1764534810250, current=UP, previous=STARTING]
2025-11-30 21:33:30 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082: registering service...
2025-11-30 21:33:30 INFO  c.m.n.NoteControllerIntegrationTest - Started NoteControllerIntegrationTest in 5.22 seconds (process running for 6.73)
2025-11-30 21:33:30 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082 - registration status: 204
2025-11-30 21:33:30 WARN  c.m.noteservice.config.DataLoader -  Suppression de toutes les notes !
2025-11-30 21:33:30 INFO  c.m.noteservice.config.DataLoader - Données initiales MongoDB importées !
2025-11-30 21:33:31 INFO  c.m.n.controller.NoteController - Aucune note trouvée pour le patient 999
2025-11-30 21:33:31 INFO  c.m.n.controller.NoteController - Note modifiée avec succès pour le patient 1
2025-11-30 21:33:31 INFO  c.m.n.controller.NoteController - Note ajoutée avec succès pour le patient 2
2025-11-30 21:33:31 INFO  c.m.n.service.NoteServiceImpl - Note supprimée avec succès (id=692caa1b1395ab6ef170ae46)
2025-11-30 21:33:31 INFO  c.m.n.controller.NoteController - Note avec id 692caa1b1395ab6ef170ae46 supprimée avec succès
2025-11-30 21:33:31 INFO  o.s.c.n.e.s.EurekaServiceRegistry - Unregistering application API-NOTE with eureka with status DOWN
2025-11-30 21:33:31 INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1764534811502, current=DOWN, previous=UP]
2025-11-30 21:33:31 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082: registering service...
2025-11-30 21:33:31 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082 - registration status: 204
2025-11-30 21:33:31 INFO  c.netflix.discovery.DiscoveryClient - Shutting down DiscoveryClient ...
2025-11-30 21:33:34 INFO  c.netflix.discovery.DiscoveryClient - Unregistering ...
2025-11-30 21:33:34 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082 - deregister  status: 200
2025-11-30 21:33:34 INFO  c.netflix.discovery.DiscoveryClient - Completed shut down of DiscoveryClient
2025-11-30 21:36:06 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.3.Final
2025-11-30 21:36:06 INFO  c.m.n.NoteControllerIntegrationTest - Starting NoteControllerIntegrationTest using Java 22.0.1 with PID 15956 (started by ahhou in C:\Users\ahhou\Desktop\dev-java\Formation\P-9-Microservice\MediLaboSolutions\note-service)
2025-11-30 21:36:06 DEBUG c.m.n.NoteControllerIntegrationTest - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-30 21:36:06 INFO  c.m.n.NoteControllerIntegrationTest - The following 1 profile is active: "test"
2025-11-30 21:36:07 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-11-30 21:36:07 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 159 ms. Found 1 MongoDB repository interface.
2025-11-30 21:36:08 INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=4300b419-5452-3776-be15-97c8e97c0bab
2025-11-30 21:36:08 INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-boot", "version": "5.5.2"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/22.0.1+8-16"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, transportSettings=null, commandListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsCommandListener@5fc7255c], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@20a47036, com.mongodb.Jep395RecordCodecProvider@70c205bf, com.mongodb.KotlinCodecProvider@43ab9ae9]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsConnectionPoolListener@2520aa05], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverMonitoringMode=AUTO, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null, timeoutMS=null}
2025-11-30 21:36:08 INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=27, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=38462300, minRoundTripTimeNanos=0}
2025-11-30 21:36:09 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-30 21:36:09 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-30 21:36:09 INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-11-30 21:36:09 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 21 ms
2025-11-30 21:36:09 INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration - Eureka HTTP Client uses RestTemplate.
2025-11-30 21:36:09 WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-11-30 21:36:09 INFO  o.s.c.n.eureka.InstanceInfoFactory - Setting initial instance status as: STARTING
2025-11-30 21:36:09 INFO  c.netflix.discovery.DiscoveryClient - Initializing Eureka in region us-east-1
2025-11-30 21:36:09 INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-30 21:36:09 INFO  c.netflix.discovery.DiscoveryClient - Disable delta property : false
2025-11-30 21:36:09 INFO  c.netflix.discovery.DiscoveryClient - Single vip registry refresh property : null
2025-11-30 21:36:09 INFO  c.netflix.discovery.DiscoveryClient - Force full registry fetch : false
2025-11-30 21:36:09 INFO  c.netflix.discovery.DiscoveryClient - Application is null : false
2025-11-30 21:36:09 INFO  c.netflix.discovery.DiscoveryClient - Registered Applications size is zero : true
2025-11-30 21:36:09 INFO  c.netflix.discovery.DiscoveryClient - Application version is -1: true
2025-11-30 21:36:09 INFO  c.netflix.discovery.DiscoveryClient - Getting all instance registry info from the eureka server
2025-11-30 21:36:10 INFO  c.netflix.discovery.DiscoveryClient - The response status is 200
2025-11-30 21:36:10 INFO  c.netflix.discovery.DiscoveryClient - Starting heartbeat executor: renew interval is: 30
2025-11-30 21:36:10 INFO  c.n.discovery.InstanceInfoReplicator - InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-11-30 21:36:10 INFO  c.netflix.discovery.DiscoveryClient - Discovery Client initialized at timestamp 1764534970395 with initial instances count: 5
2025-11-30 21:36:10 INFO  o.s.c.n.e.s.EurekaServiceRegistry - Registering application API-NOTE with eureka with status UP
2025-11-30 21:36:10 INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1764534970399, current=UP, previous=STARTING]
2025-11-30 21:36:10 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082: registering service...
2025-11-30 21:36:10 INFO  c.m.n.NoteControllerIntegrationTest - Started NoteControllerIntegrationTest in 4.706 seconds (process running for 6.055)
2025-11-30 21:36:10 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082 - registration status: 204
2025-11-30 21:36:10 WARN  c.m.noteservice.config.DataLoader -  Suppression de toutes les notes !
2025-11-30 21:36:10 INFO  c.m.noteservice.config.DataLoader - Données initiales MongoDB importées !
2025-11-30 21:36:11 INFO  c.m.n.controller.NoteController - Aucune note trouvée pour le patient 999
2025-11-30 21:36:11 INFO  c.m.n.controller.NoteController - Note modifiée avec succès pour le patient 1
2025-11-30 21:36:11 INFO  c.m.n.controller.NoteController - Note ajoutée avec succès pour le patient 2
2025-11-30 21:36:11 INFO  c.m.n.service.NoteServiceImpl - Note supprimée avec succès (id=692caabbe303cb00c93b9428)
2025-11-30 21:36:11 INFO  c.m.n.controller.NoteController - Note avec id 692caabbe303cb00c93b9428 supprimée avec succès
2025-11-30 21:36:11 INFO  o.s.c.n.e.s.EurekaServiceRegistry - Unregistering application API-NOTE with eureka with status DOWN
2025-11-30 21:36:11 INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1764534971511, current=DOWN, previous=UP]
2025-11-30 21:36:11 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082: registering service...
2025-11-30 21:36:11 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082 - registration status: 204
2025-11-30 21:36:11 INFO  c.netflix.discovery.DiscoveryClient - Shutting down DiscoveryClient ...
2025-11-30 21:36:14 INFO  c.netflix.discovery.DiscoveryClient - Unregistering ...
2025-11-30 21:36:14 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082 - deregister  status: 200
2025-11-30 21:36:14 INFO  c.netflix.discovery.DiscoveryClient - Completed shut down of DiscoveryClient
2025-11-30 21:37:04 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.3.Final
2025-11-30 21:37:04 INFO  c.m.n.NoteControllerIntegrationTest - Starting NoteControllerIntegrationTest using Java 23.0.1 with PID 13396 (started by ahhou in C:\Users\ahhou\Desktop\dev-java\Formation\P-9-Microservice\MediLaboSolutions\note-service)
2025-11-30 21:37:04 DEBUG c.m.n.NoteControllerIntegrationTest - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-30 21:37:04 INFO  c.m.n.NoteControllerIntegrationTest - The following 1 profile is active: "test"
2025-11-30 21:37:05 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-11-30 21:37:06 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 214 ms. Found 1 MongoDB repository interface.
2025-11-30 21:37:06 INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=4300b419-5452-3776-be15-97c8e97c0bab
2025-11-30 21:37:07 INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-boot", "version": "5.5.2"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/23.0.1+11-39"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, transportSettings=null, commandListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsCommandListener@7ff48cdc], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@7029653c, com.mongodb.Jep395RecordCodecProvider@181cafd, com.mongodb.KotlinCodecProvider@68f4c6e7]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsConnectionPoolListener@33bd3549], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverMonitoringMode=AUTO, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null, timeoutMS=null}
2025-11-30 21:37:07 INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=27, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=31012000, minRoundTripTimeNanos=0}
2025-11-30 21:37:09 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-30 21:37:09 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-30 21:37:09 INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-11-30 21:37:09 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 18 ms
2025-11-30 21:37:09 INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration - Eureka HTTP Client uses RestTemplate.
2025-11-30 21:37:09 WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-11-30 21:37:09 INFO  o.s.c.n.eureka.InstanceInfoFactory - Setting initial instance status as: STARTING
2025-11-30 21:37:09 INFO  c.netflix.discovery.DiscoveryClient - Initializing Eureka in region us-east-1
2025-11-30 21:37:09 INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-30 21:37:09 INFO  c.netflix.discovery.DiscoveryClient - Disable delta property : false
2025-11-30 21:37:09 INFO  c.netflix.discovery.DiscoveryClient - Single vip registry refresh property : null
2025-11-30 21:37:09 INFO  c.netflix.discovery.DiscoveryClient - Force full registry fetch : false
2025-11-30 21:37:09 INFO  c.netflix.discovery.DiscoveryClient - Application is null : false
2025-11-30 21:37:09 INFO  c.netflix.discovery.DiscoveryClient - Registered Applications size is zero : true
2025-11-30 21:37:09 INFO  c.netflix.discovery.DiscoveryClient - Application version is -1: true
2025-11-30 21:37:09 INFO  c.netflix.discovery.DiscoveryClient - Getting all instance registry info from the eureka server
2025-11-30 21:37:09 INFO  c.netflix.discovery.DiscoveryClient - The response status is 200
2025-11-30 21:37:09 INFO  c.netflix.discovery.DiscoveryClient - Starting heartbeat executor: renew interval is: 30
2025-11-30 21:37:09 INFO  c.n.discovery.InstanceInfoReplicator - InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-11-30 21:37:09 INFO  c.netflix.discovery.DiscoveryClient - Discovery Client initialized at timestamp 1764535029935 with initial instances count: 5
2025-11-30 21:37:09 INFO  o.s.c.n.e.s.EurekaServiceRegistry - Registering application API-NOTE with eureka with status UP
2025-11-30 21:37:09 INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1764535029942, current=UP, previous=STARTING]
2025-11-30 21:37:09 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082: registering service...
2025-11-30 21:37:09 INFO  c.m.n.NoteControllerIntegrationTest - Started NoteControllerIntegrationTest in 6.646 seconds (process running for 9.406)
2025-11-30 21:37:10 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082 - registration status: 204
2025-11-30 21:37:10 WARN  c.m.noteservice.config.DataLoader -  Suppression de toutes les notes !
2025-11-30 21:37:10 INFO  c.m.noteservice.config.DataLoader - Données initiales MongoDB importées !
2025-11-30 21:37:11 INFO  c.m.n.controller.NoteController - Aucune note trouvée pour le patient 999
2025-11-30 21:37:11 INFO  c.m.n.controller.NoteController - Note modifiée avec succès pour le patient 1
2025-11-30 21:37:11 INFO  c.m.n.controller.NoteController - Note ajoutée avec succès pour le patient 2
2025-11-30 21:37:11 INFO  c.m.n.service.NoteServiceImpl - Note supprimée avec succès (id=692caaf741da7773ef1e5220)
2025-11-30 21:37:11 INFO  c.m.n.controller.NoteController - Note avec id 692caaf741da7773ef1e5220 supprimée avec succès
2025-11-30 21:37:11 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.medilabosolutions.noteservice.NoteServiceApplicationTests]: NoteServiceApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-30 21:37:11 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.medilabosolutions.noteservice.NoteServiceApplication for test class com.medilabosolutions.noteservice.NoteServiceApplicationTests
2025-11-30 21:37:11 INFO  c.m.n.NoteServiceApplicationTests - Starting NoteServiceApplicationTests using Java 23.0.1 with PID 13396 (started by ahhou in C:\Users\ahhou\Desktop\dev-java\Formation\P-9-Microservice\MediLaboSolutions\note-service)
2025-11-30 21:37:11 DEBUG c.m.n.NoteServiceApplicationTests - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-30 21:37:11 INFO  c.m.n.NoteServiceApplicationTests - No active profile set, falling back to 1 default profile: "default"
2025-11-30 21:37:11 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-11-30 21:37:12 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 15 ms. Found 1 MongoDB repository interface.
2025-11-30 21:37:12 INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=41dab432-2529-3572-bc1e-4fbaa5d9e422
2025-11-30 21:37:12 INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-boot", "version": "5.5.2"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/23.0.1+11-39"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, transportSettings=null, commandListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsCommandListener@257490d2], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@7029653c, com.mongodb.Jep395RecordCodecProvider@181cafd, com.mongodb.KotlinCodecProvider@68f4c6e7]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsConnectionPoolListener@1617f122], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverMonitoringMode=AUTO, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null, timeoutMS=null}
2025-11-30 21:37:12 INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=27, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=1404100, minRoundTripTimeNanos=0}
2025-11-30 21:37:12 INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration - Eureka HTTP Client uses RestTemplate.
2025-11-30 21:37:12 WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-11-30 21:37:12 INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-11-30 21:37:12 INFO  o.s.c.n.eureka.InstanceInfoFactory - Setting initial instance status as: STARTING
2025-11-30 21:37:12 INFO  c.netflix.discovery.DiscoveryClient - Initializing Eureka in region us-east-1
2025-11-30 21:37:12 INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-30 21:37:12 INFO  c.netflix.discovery.DiscoveryClient - Disable delta property : false
2025-11-30 21:37:12 INFO  c.netflix.discovery.DiscoveryClient - Single vip registry refresh property : null
2025-11-30 21:37:12 INFO  c.netflix.discovery.DiscoveryClient - Force full registry fetch : false
2025-11-30 21:37:12 INFO  c.netflix.discovery.DiscoveryClient - Application is null : false
2025-11-30 21:37:12 INFO  c.netflix.discovery.DiscoveryClient - Registered Applications size is zero : true
2025-11-30 21:37:12 INFO  c.netflix.discovery.DiscoveryClient - Application version is -1: true
2025-11-30 21:37:12 INFO  c.netflix.discovery.DiscoveryClient - Getting all instance registry info from the eureka server
2025-11-30 21:37:12 INFO  c.netflix.discovery.DiscoveryClient - The response status is 200
2025-11-30 21:37:12 INFO  c.netflix.discovery.DiscoveryClient - Starting heartbeat executor: renew interval is: 30
2025-11-30 21:37:12 INFO  c.n.discovery.InstanceInfoReplicator - InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-11-30 21:37:12 INFO  c.netflix.discovery.DiscoveryClient - Discovery Client initialized at timestamp 1764535032431 with initial instances count: 5
2025-11-30 21:37:12 INFO  o.s.c.n.e.s.EurekaServiceRegistry - Registering application API-NOTE with eureka with status UP
2025-11-30 21:37:12 INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1764535032432, current=UP, previous=STARTING]
2025-11-30 21:37:12 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082: registering service...
2025-11-30 21:37:12 INFO  c.m.n.NoteServiceApplicationTests - Started NoteServiceApplicationTests in 0.866 seconds (process running for 11.886)
2025-11-30 21:37:12 WARN  c.m.noteservice.config.DataLoader -  Suppression de toutes les notes !
2025-11-30 21:37:12 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082 - registration status: 204
2025-11-30 21:37:12 INFO  c.m.noteservice.config.DataLoader - Données initiales MongoDB importées !
2025-11-30 21:37:12 INFO  c.m.n.service.NoteServiceImpl - Note supprimée avec succès (id=999)
2025-11-30 21:37:12 INFO  o.s.c.n.e.s.EurekaServiceRegistry - Unregistering application API-NOTE with eureka with status DOWN
2025-11-30 21:37:12 INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1764535032861, current=DOWN, previous=UP]
2025-11-30 21:37:12 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082: registering service...
2025-11-30 21:37:12 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082 - registration status: 204
2025-11-30 21:37:13 INFO  c.netflix.discovery.DiscoveryClient - Shutting down DiscoveryClient ...
2025-11-30 21:37:16 INFO  c.netflix.discovery.DiscoveryClient - Unregistering ...
2025-11-30 21:37:16 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082 - deregister  status: 200
2025-11-30 21:37:16 INFO  c.netflix.discovery.DiscoveryClient - Completed shut down of DiscoveryClient
2025-11-30 21:37:16 INFO  o.s.c.n.e.s.EurekaServiceRegistry - Unregistering application API-NOTE with eureka with status DOWN
2025-11-30 21:37:16 INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1764535036051, current=DOWN, previous=UP]
2025-11-30 21:37:16 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082: registering service...
2025-11-30 21:37:16 INFO  c.netflix.discovery.DiscoveryClient - Shutting down DiscoveryClient ...
2025-11-30 21:37:16 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082 - registration status: 204
2025-11-30 21:37:16 INFO  c.netflix.discovery.DiscoveryClient - Unregistering ...
2025-11-30 21:37:16 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082 - deregister  status: 200
2025-11-30 21:37:16 INFO  c.netflix.discovery.DiscoveryClient - Completed shut down of DiscoveryClient
2025-11-30 21:38:30 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.3.Final
2025-11-30 21:38:31 INFO  c.m.n.NoteControllerIntegrationTest - Starting NoteControllerIntegrationTest using Java 23.0.1 with PID 23212 (started by ahhou in C:\Users\ahhou\Desktop\dev-java\Formation\P-9-Microservice\MediLaboSolutions\note-service)
2025-11-30 21:38:31 DEBUG c.m.n.NoteControllerIntegrationTest - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-30 21:38:31 INFO  c.m.n.NoteControllerIntegrationTest - The following 1 profile is active: "test"
2025-11-30 21:38:32 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-11-30 21:38:33 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 254 ms. Found 1 MongoDB repository interface.
2025-11-30 21:38:33 INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=4300b419-5452-3776-be15-97c8e97c0bab
2025-11-30 21:38:34 INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-boot", "version": "5.5.2"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/23.0.1+11-39"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, transportSettings=null, commandListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsCommandListener@5e7d994c], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@207b0d48, com.mongodb.Jep395RecordCodecProvider@3077e4aa, com.mongodb.KotlinCodecProvider@3518882c]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsConnectionPoolListener@71dc03a], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverMonitoringMode=AUTO, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null, timeoutMS=null}
2025-11-30 21:38:34 INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=27, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=28543400, minRoundTripTimeNanos=0}
2025-11-30 21:38:35 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-30 21:38:35 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-30 21:38:35 INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-11-30 21:38:35 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 20 ms
2025-11-30 21:38:35 INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration - Eureka HTTP Client uses RestTemplate.
2025-11-30 21:38:35 WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-11-30 21:38:35 INFO  o.s.c.n.eureka.InstanceInfoFactory - Setting initial instance status as: STARTING
2025-11-30 21:38:35 INFO  c.netflix.discovery.DiscoveryClient - Initializing Eureka in region us-east-1
2025-11-30 21:38:35 INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-30 21:38:35 INFO  c.netflix.discovery.DiscoveryClient - Disable delta property : false
2025-11-30 21:38:35 INFO  c.netflix.discovery.DiscoveryClient - Single vip registry refresh property : null
2025-11-30 21:38:35 INFO  c.netflix.discovery.DiscoveryClient - Force full registry fetch : false
2025-11-30 21:38:35 INFO  c.netflix.discovery.DiscoveryClient - Application is null : false
2025-11-30 21:38:35 INFO  c.netflix.discovery.DiscoveryClient - Registered Applications size is zero : true
2025-11-30 21:38:35 INFO  c.netflix.discovery.DiscoveryClient - Application version is -1: true
2025-11-30 21:38:35 INFO  c.netflix.discovery.DiscoveryClient - Getting all instance registry info from the eureka server
2025-11-30 21:38:36 INFO  c.netflix.discovery.DiscoveryClient - The response status is 200
2025-11-30 21:38:36 INFO  c.netflix.discovery.DiscoveryClient - Starting heartbeat executor: renew interval is: 30
2025-11-30 21:38:36 INFO  c.n.discovery.InstanceInfoReplicator - InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-11-30 21:38:36 INFO  c.netflix.discovery.DiscoveryClient - Discovery Client initialized at timestamp 1764535116476 with initial instances count: 5
2025-11-30 21:38:36 INFO  o.s.c.n.e.s.EurekaServiceRegistry - Registering application API-NOTE with eureka with status UP
2025-11-30 21:38:36 INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1764535116483, current=UP, previous=STARTING]
2025-11-30 21:38:36 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082: registering service...
2025-11-30 21:38:36 INFO  c.m.n.NoteControllerIntegrationTest - Started NoteControllerIntegrationTest in 6.302 seconds (process running for 9.07)
2025-11-30 21:38:36 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082 - registration status: 204
2025-11-30 21:38:36 WARN  c.m.noteservice.config.DataLoader -  Suppression de toutes les notes !
2025-11-30 21:38:36 INFO  c.m.noteservice.config.DataLoader - Données initiales MongoDB importées !
2025-11-30 21:38:37 INFO  c.m.n.controller.NoteController - Aucune note trouvée pour le patient 999
2025-11-30 21:38:37 INFO  c.m.n.controller.NoteController - Note modifiée avec succès pour le patient 1
2025-11-30 21:38:37 INFO  c.m.n.controller.NoteController - Note ajoutée avec succès pour le patient 2
2025-11-30 21:38:38 INFO  c.m.n.service.NoteServiceImpl - Note supprimée avec succès (id=692cab4d42c4d3c4fb41efee)
2025-11-30 21:38:38 INFO  c.m.n.controller.NoteController - Note avec id 692cab4d42c4d3c4fb41efee supprimée avec succès
2025-11-30 21:38:38 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.medilabosolutions.noteservice.NoteServiceApplicationTests]: NoteServiceApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-30 21:38:38 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.medilabosolutions.noteservice.NoteServiceApplication for test class com.medilabosolutions.noteservice.NoteServiceApplicationTests
2025-11-30 21:38:38 INFO  c.m.n.NoteServiceApplicationTests - Starting NoteServiceApplicationTests using Java 23.0.1 with PID 23212 (started by ahhou in C:\Users\ahhou\Desktop\dev-java\Formation\P-9-Microservice\MediLaboSolutions\note-service)
2025-11-30 21:38:38 DEBUG c.m.n.NoteServiceApplicationTests - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-30 21:38:38 INFO  c.m.n.NoteServiceApplicationTests - No active profile set, falling back to 1 default profile: "default"
2025-11-30 21:38:38 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-11-30 21:38:38 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 1 MongoDB repository interface.
2025-11-30 21:38:38 INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=41dab432-2529-3572-bc1e-4fbaa5d9e422
2025-11-30 21:38:38 INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-boot", "version": "5.5.2"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/23.0.1+11-39"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, transportSettings=null, commandListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsCommandListener@4efccfc7], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@207b0d48, com.mongodb.Jep395RecordCodecProvider@3077e4aa, com.mongodb.KotlinCodecProvider@3518882c]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsConnectionPoolListener@50a2431f], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverMonitoringMode=AUTO, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null, timeoutMS=null}
2025-11-30 21:38:38 INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=27, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=1470700, minRoundTripTimeNanos=0}
2025-11-30 21:38:38 INFO  o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration - Eureka HTTP Client uses RestTemplate.
2025-11-30 21:38:38 WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-11-30 21:38:38 INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-11-30 21:38:38 INFO  o.s.c.n.eureka.InstanceInfoFactory - Setting initial instance status as: STARTING
2025-11-30 21:38:38 INFO  c.netflix.discovery.DiscoveryClient - Initializing Eureka in region us-east-1
2025-11-30 21:38:38 INFO  c.n.d.s.r.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-11-30 21:38:38 INFO  c.netflix.discovery.DiscoveryClient - Disable delta property : false
2025-11-30 21:38:38 INFO  c.netflix.discovery.DiscoveryClient - Single vip registry refresh property : null
2025-11-30 21:38:38 INFO  c.netflix.discovery.DiscoveryClient - Force full registry fetch : false
2025-11-30 21:38:38 INFO  c.netflix.discovery.DiscoveryClient - Application is null : false
2025-11-30 21:38:38 INFO  c.netflix.discovery.DiscoveryClient - Registered Applications size is zero : true
2025-11-30 21:38:38 INFO  c.netflix.discovery.DiscoveryClient - Application version is -1: true
2025-11-30 21:38:38 INFO  c.netflix.discovery.DiscoveryClient - Getting all instance registry info from the eureka server
2025-11-30 21:38:38 INFO  c.netflix.discovery.DiscoveryClient - The response status is 200
2025-11-30 21:38:38 INFO  c.netflix.discovery.DiscoveryClient - Starting heartbeat executor: renew interval is: 30
2025-11-30 21:38:38 INFO  c.n.discovery.InstanceInfoReplicator - InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-11-30 21:38:38 INFO  c.netflix.discovery.DiscoveryClient - Discovery Client initialized at timestamp 1764535118895 with initial instances count: 5
2025-11-30 21:38:38 INFO  o.s.c.n.e.s.EurekaServiceRegistry - Registering application API-NOTE with eureka with status UP
2025-11-30 21:38:38 INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1764535118896, current=UP, previous=STARTING]
2025-11-30 21:38:38 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082: registering service...
2025-11-30 21:38:38 INFO  c.m.n.NoteServiceApplicationTests - Started NoteServiceApplicationTests in 0.874 seconds (process running for 11.476)
2025-11-30 21:38:38 WARN  c.m.noteservice.config.DataLoader -  Suppression de toutes les notes !
2025-11-30 21:38:38 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082 - registration status: 204
2025-11-30 21:38:38 INFO  c.m.noteservice.config.DataLoader - Données initiales MongoDB importées !
2025-11-30 21:38:39 INFO  c.m.n.service.NoteServiceImpl - Note supprimée avec succès (id=999)
2025-11-30 21:38:39 INFO  o.s.c.n.e.s.EurekaServiceRegistry - Unregistering application API-NOTE with eureka with status DOWN
2025-11-30 21:38:39 INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1764535119302, current=DOWN, previous=UP]
2025-11-30 21:38:39 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082: registering service...
2025-11-30 21:38:39 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082 - registration status: 204
2025-11-30 21:38:39 INFO  c.netflix.discovery.DiscoveryClient - Shutting down DiscoveryClient ...
2025-11-30 21:38:42 INFO  c.netflix.discovery.DiscoveryClient - Unregistering ...
2025-11-30 21:38:42 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082 - deregister  status: 200
2025-11-30 21:38:42 INFO  c.netflix.discovery.DiscoveryClient - Completed shut down of DiscoveryClient
2025-11-30 21:38:42 INFO  o.s.c.n.e.s.EurekaServiceRegistry - Unregistering application API-NOTE with eureka with status DOWN
2025-11-30 21:38:42 INFO  c.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1764535122483, current=DOWN, previous=UP]
2025-11-30 21:38:42 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082: registering service...
2025-11-30 21:38:42 INFO  c.netflix.discovery.DiscoveryClient - Shutting down DiscoveryClient ...
2025-11-30 21:38:42 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082 - registration status: 204
2025-11-30 21:38:42 INFO  c.netflix.discovery.DiscoveryClient - Unregistering ...
2025-11-30 21:38:42 INFO  c.netflix.discovery.DiscoveryClient - DiscoveryClient_API-NOTE/pc-Houda:api-note:8082 - deregister  status: 200
2025-11-30 21:38:42 INFO  c.netflix.discovery.DiscoveryClient - Completed shut down of DiscoveryClient
